не знаю поможет тебе или нет мой опыт, но я делал следующее
1. репо сервиса, содержит докер файл и гитлабовсий скрипт сборки, деплой сервиса выполняет этапы сборки и тегируя нужной версией контейнер складывает его в реджистри (соответственно таких сервисов н штук)
2. репо деплоя, ансибл который доставляет композ файл на хостовую машину, занимается пуллингом контейнеров и настройкой версий (энвироменты, которые зацеплены в композ файле) , так же через этот репозиторий я управляю энвироментами внутри самих сервисов, бренчи репозитория различаются по настройкам и отвечают за выкатку на разные стенды.
   Что мне нравится в этой архитектуре, выкатка релиза происходит единомоментно, нет ситуации когда первый апдейченый сервис уехал пол часа назад и все лежит пока не приедет последний...
   что мне не нравится, больше телодвижений чем обычно, для кластерного деплоя надо додумывать эту схему.

https://github.com/marketplace/actions/rsync-deployments-action
https://github.com/marketplace/actions/publish-docker#usage
https://devcenter.heroku.com/articles/container-registry-and-runtime

https://medium.com/nuances-of-programming/github-actions-%D0%B8-vercel-%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%BE%D0%B5-%D1%80%D0%B0%D0%B7%D0%B2%D0%B5%D1%80%D1%82%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BE%D0%B2-dbd19e292eea

